# Template file for 'ddclient'
pkgname=ddclient
version=3.11.0
revision=1
_commit=ef496d108fea294ef83d7be6a6f9eb40ae3fc25c
build_style=gnu-configure
configure_args="--sysconfdir=/etc/ddclient"
hostmakedepends="automake"
depends="perl-JSON curl"
checkdepends="$depends perl-HTTP-Daemon perl-Plack perl-HTTP-Message
 perl-Test-MockModule perl-Test-Warnings net-tools"
short_desc="Perl client used to update dynamic DNS"
maintainer="Joel Beckmeyer <joel@beckmeyer.us>"
license="GPL-2.0-or-later"
homepage="https://github.com/ddclient/ddclient"
changelog="https://raw.githubusercontent.com/ddclient/ddclient/master/ChangeLog.md"
distfiles="https://github.com/ddclient/ddclient/archive/${_commit}.tar.gz"
checksum=e16c4c0104376bf1e70599fa982d9e60d641540bf648699ac6aa6afe91edcfa3

conf_files="/etc/ddclient/ddclient.conf"
make_dirs="/var/cache/ddclient 0750 root root"

pre_configure() {
	./autogen
}

post_install() {
	vdoc README.cisco
	vdoc README.md
	vsconf sample-ddclient-wrapper.sh
	vsconf sample-etc_cron.d_ddclient
	vsconf ddclient.conf
	vsconf sample-etc_dhclient-exit-hooks
	vsconf sample-etc_dhcpc_dhcpcd-eth0.exe
	vsconf sample-etc_ppp_ip-up.local
	vsv ddclient
}
