# Template file for 'caffeine-ng'
pkgname=caffeine-ng
version=4.2.0
revision=1
build_style=meson
_python_dependencies="python3-click python3-dbus python3-ewmh python3-gobject
 python3-pulsectl python3-setproctitle"
hostmakedepends="pkg-config scdoc ${_python_dependencies}"
makedepends="python3-gobject-devel python3-dbus-devel gtk+3-devel
 libnotify-devel libayatana-appindicator-devel"
depends="desktop-file-utils hicolor-icon-theme libnotify
 libayatana-appindicator gtk+3 ${_python_dependencies}"
short_desc="Temporarily inhibits the screensaver and sleep mode"
maintainer="Joel Beckmeyer <joel@beckmeyer.us>"
license="GPL-3.0-or-later"
homepage="https://codeberg.org/WhyNotHugo/caffeine-ng"
changelog="https://codeberg.org/WhyNotHugo/caffeine-ng/raw/branch/main/CHANGELOG.rst"
distfiles="https://codeberg.org/WhyNotHugo/caffeine-ng/archive/v${version}.tar.gz"
checksum=938080407714104d1c016513146b150a7dc25882ad9ae957d6c02d340d90fda2

if [ "$CROSS_BUILD" ]; then
	makedepends+=" scdoc"
fi

pre_configure() {
	echo $version > version
}
